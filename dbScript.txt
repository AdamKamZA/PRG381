
create database StudentPortal;

use StudentPortal;

create table Register (
id int not null auto_increment,
student_name varchar(255),
student_address varchar(255),
student_email varchar(255),
student_passord varchar(255),
course_name varchar(255),
primary key (register_id)
);


create table Student (
student_id int not null auto_increment,
student_name varchar(255),
student_address varchar(255),
student_email varchar(255),
student_passord varchar(255),
primary key (student_id)
);

create table Administrator(
id int not null auto_increment,
Admin_name varchar(255),
Admin_password varchar(255),
contact varchar(255),
primary key (Admin_id)
);



Create Trigger after_insert_Student after insert on studentportal.student for each row
INSERT INTO `studentportal`.`register`
(
`course_name`,
`student_address`,
`student_email`,
`student_name`,
`student_password`)
VALUES
(
"unset",
NEW.student_address,
NEW.student_email,
NEW.student_name,
NEW.student_password);


Create Trigger after_insert_Reg after insert on studentportal.register for each row
INSERT INTO `studentportal`.`student`
(
`student_address`,
`student_email`,
`student_name`,
`student_password`)
VALUES
(
NEW.student_address,
NEW.student_email,
NEW.student_name,
NEW.student_password);

Create Trigger after_update_Student after update on studentportal.student for each row
UPDATE `studentportal`.`register`
SET
`student_address` = NEW.student_address,
`student_email` = NEW.student_email,
`student_name` = NEW.student_name,
`student_password` = NEW.student_password
WHERE `id` = OLD.student_id;

Create Trigger after_update_Register after update on studentportal.register for each row
UPDATE `studentportal`.`student`
SET
`student_address` = NEW.student_address,
`student_email` = NEW.student_email,
`student_name` = NEW.student_name,
`student_password` = NEW.student_password
WHERE `student_id` = OLD.id;


INSERT INTO `studentportal`.`administrator`
(
`admin_email`,
`admin_name`,
`contact`,
`password`)
VALUES
(
"admin@gmail.com",
"fredrecik",
"joshepinya",
"aaa"),
(
"cedrik@gmail.com",
"cedric",
"joshepinya",
"bbb");

INSERT INTO `studentportal`.`register`
(
`course_name`,
`student_address`,
`student_email`,
`student_name`,
`student_password`)
VALUES
(
"bcomp",
"127 belgravia",
"123@student.belgiumcapus.ac.za",
"susan",
"a1b2c3"),
(
"bcomp",
"130 belgravia",
"127@student.belgiumcapus.ac.za",
"delphi",
"a1b2c4"),
(
"bit",
"133 iastrant",
"77879@student.belgiumcapus.ac.za",
"adam",
"adamspassword"),
(
"bcomp",
"127 belgravia",
"99920@student.belgiumcapus.ac.za",
"susans sister",
"a1b2c66")































